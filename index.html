<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOP | Rock, Paper, Scissors</title>
</head>
<body>
    
    <script>

    // create a function for computer's choice
        function getComputerChoice() {
                const choices = ["Rock", "Paper", "Scissors"];      // Array
                const random = Math.floor(Math.random() * choices.length);      //gets random value of the 'choices' array
            
                return choices[random];     // returns random choices value that can be used further 
        }

        

        function playRound() {

            let playerSelection = prompt("Rock, Paper, Scissors?")
            playerSelection = playerSelection.toLowerCase();

            let computerSelection = getComputerChoice();
            computerSelection = computerSelection.toLowerCase();
           
            // display the selections of the user and the computer in the functions
            console.log(playerSelection, computerSelection);

             //CONDITIONS (Lose, Win, Tie, Invalid)
             if (playerSelection === "rock" && computerSelection === "paper" || playerSelection === "paper" && computerSelection === "scissors" || playerSelection === "scissors" && computerSelection === "rock") {
                return "YOU LOSE. " + computerSelection.toUpperCase() + " beats " + playerSelection.toUpperCase() + ".";

            }
            else if (playerSelection === "rock" && computerSelection === "scissors" || playerSelection === "paper" && computerSelection === "rock" || playerSelection === "scissors" && computerSelection === "paper") {
                return "YOU WIN. " + playerSelection.toUpperCase() + " beats " + computerSelection.toUpperCase() + "."; 
            }
            else if (playerSelection === computerSelection) {
                return "TIE.";
            }
            else {
                return "INVALID ENTRY.";
            }

        }



        function playGame() {
        
        // create variables for the user and the computer score.
        // scoreUser and scoreComputer are not in the for loop, because if they would be in it, the score would reset after each round.
            let scoreUser = 0;
            let scoreComputer = 0;
        
        // loop the function 5x with for loop
        for (let i= 0; i < 5; i++) {

            let playerSelection = prompt("Rock, Paper, Scissors?")
            playerSelection = playerSelection.toLowerCase();

            let computerSelection = getComputerChoice();
            computerSelection = computerSelection.toLowerCase();
           
            // display the selections of the user and the computer in the functions
            console.log(playerSelection, computerSelection);

            //CONDITIONS (Lose, Win, Tie, Invalid)
            if (playerSelection === "rock" && computerSelection === "paper" || playerSelection === "paper" && computerSelection === "scissors" || playerSelection === "scissors" && computerSelection === "rock") {
                scoreComputer++
                console.log("YOU LOSE. " + computerSelection.toUpperCase() + " beats " + playerSelection.toUpperCase() + ".");
                console.log( "You: " + scoreUser + "  Computer: " + scoreComputer);

            }
            else if (playerSelection === "rock" && computerSelection === "scissors" || playerSelection === "paper" && computerSelection === "rock" || playerSelection === "scissors" && computerSelection === "paper") {
                scoreUser++
                console.log("YOU WIN. " + playerSelection.toUpperCase() + " beats " + computerSelection.toUpperCase() + ".");
                console.log( "You: " + scoreUser + "  Computer: " + scoreComputer);            
            }
            else if (playerSelection === computerSelection) {
                console.log("TIE.");
                console.log( "You: " + scoreUser + "  Computer: " + scoreComputer);
              
            }
            else {
                console.log("INVALID ENTRY. Attempt doesn't count.");
                // decrement i to get an extra attempt
                i--;
            }

        }
            // return the final result.
            if (scoreUser === scoreComputer) {
                return "It's a Tie!"
            } else if (scoreUser > scoreComputer) {
                return "You win " + scoreUser + ":" + scoreComputer + "!"
            } else {
                return "You lose " + scoreUser + ":" + scoreComputer + "."
            }
        
            }
            
        </script>
        </body>
        </html>